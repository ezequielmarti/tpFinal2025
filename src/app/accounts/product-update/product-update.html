@let product = productSignal.productState();

<section class="product-update">
  @if(product.loading){
    <p>Cargando producto...</p>
  }@else if(product.error){
    <div class="alert error">Error: {{ product.error }}</div>
  }@else if(!product.data){
    <p class="muted">No hay producto seleccionado.</p>
  }@else{
    <header class="page-header">
      <div>
        <h2>Editar producto</h2>
        <p class="muted">{{ product.data.title }}</p>
      </div>
    </header>

    <section class="card">
      <h3>Datos principales</h3>
      <div class="grid">
        <label>Titulo<input #title [value]="product.data.title" /></label>
        <label>Precio<input #price type="number" [value]="product.data.price" /></label>
        <label>Stock<input #stock type="number" [value]="product.data.stock" /></label>
        <label>Descuento %<input #discount type="number" [value]="product.data.discountPercentage" /></label>
      </div>
      <label>Descripcion<textarea #desc rows="3">{{ product.data.description }}</textarea></label>
      <div class="inline">
        <label>Categoria<input #category [value]="product.data.category" /></label>
        <label>Marca<input #brand [value]="product.data.brand" /></label>
      </div>
      <div class="form-actions">
        <button class="btn primary" type="button" (click)="onSubmit(title.value, desc.value, category.value, brand.value, price.valueAsNumber, stock.valueAsNumber, discount.valueAsNumber)">Guardar</button>
        <button class="btn ghost" type="button" (click)="onCancel()">Cancelar</button>
      </div>
    </section>
  }
</section>
